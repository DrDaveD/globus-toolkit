include $(top_srcdir)/globus_automake_pre
include $(top_srcdir)/globus_automake_pre_top

# SUBDIRS is an automake macro which contains 
# the list of subdirectories that have Makefile.am's
SUBDIRS= \
	pkgdata \
	doxygen

EXTRA_DIST= \
	globus_io_authorization_test.pl.in \
        globus_io_file_test.pl.in \
        globus_io_tcp_test.pl.in \
        globus_io_udp_test.pl.in \
        run-io-tests.pl.in

# Sources contains all of the source files in the directory.
# Header files are included because automake will generate dependency targets 
# for them and include them in a source distribution.
#
# If this directory builds multiple programs or libraries than these sources
# will need to be seperated into seperate macros.
Sources=

# INCLUDES is an automake macro which contains 
# the include directives (-I..) for the compiler.
#
# GPT_INCLUDES contains the include directives generated by GPT 
# from the dependent packages.
INCLUDES += $(GPT_INCLUDES)

# bin_PROGRAMS is an automake macro which contains
# a list of programs that are to be installed in a certain directory.
# bin is $prefix/bin
# noinst means that the programs are not installed in any directory.
# You can also use the following:
# sbin is $prefix/sbin
# libexec is $prefix/libexec
# You can also use any directory defined by a macro of the form 
# <directory_name>dir

test_PROGRAMS= \
	globus_io_tcp_test \
	globus_io_tcp_test_server \
	globus_io_tcp_test_client \
	globus_io_file_test \
	globus_io_udp_test_server \
	globus_io_udp_test_client \
	globus_io_udp_test \
	globus_io_authorization_test

test_SCRIPTS= \
        globus_io_authorization_test.pl \
        globus_io_file_test.pl \
        globus_io_tcp_test.pl \
        globus_io_udp_test.pl \
        run-io-tests.pl

globus_io_tcp_test_SOURCES = globus_io_tcp_test.c
globus_io_tcp_test_LDFLAGS = $(GPT_LDFLAGS)
globus_io_tcp_test_LDADD = $(GPT_PGM_LINKS)

globus_io_tcp_test_server_SOURCES = globus_io_tcp_test_server.c
globus_io_tcp_test_server_LDFLAGS = $(GPT_LDFLAGS)
globus_io_tcp_test_server_LDADD = $(GPT_PGM_LINKS)

globus_io_tcp_test_client_SOURCES = globus_io_tcp_test_client.c
globus_io_tcp_test_client_LDFLAGS = $(GPT_LDFLAGS)
globus_io_tcp_test_client_LDADD = $(GPT_PGM_LINKS)

globus_io_file_test_SOURCES = globus_io_file_test.c
globus_io_file_test_LDFLAGS = $(GPT_LDFLAGS)
globus_io_file_test_LDADD = $(GPT_PGM_LINKS)

globus_io_udp_test_server_SOURCES = globus_io_udp_test_server.c
globus_io_udp_test_server_LDFLAGS = $(GPT_LDFLAGS)
globus_io_udp_test_server_LDADD = $(GPT_PGM_LINKS)

globus_io_udp_test_client_SOURCES = globus_io_udp_test_client.c
globus_io_udp_test_client_LDFLAGS = $(GPT_LDFLAGS)
globus_io_udp_test_client_LDADD = $(GPT_PGM_LINKS)

globus_io_udp_test_SOURCES = globus_io_udp_test.c
globus_io_udp_test_LDFLAGS = $(GPT_LDFLAGS)
globus_io_udp_test_LDADD = $(GPT_PGM_LINKS)

globus_io_authorization_test_SOURCES = globus_io_authorization_test.c
globus_io_authorization_test_LDFLAGS = $(GPT_LDFLAGS)
globus_io_authorization_test_LDADD = $(GPT_PGM_LINKS)

include $(top_srcdir)/globus_automake_post
include $(top_srcdir)/globus_automake_post_top
