.TH globus-url-sync 1 "9 July 2010"
.SH NAME
globus-url-sync \- URL Synchronization
.SH SYNOPSIS
.B globus-url-sync
[-help | -usage] [-version] [-d | -v] [-c] [-r] [-n] -o] [-s] <sourceURL> <destURL>
.SH SUMMARY
The program
.B globus-url-sync
compares two endpoints, using GridFTP, and prints a list of GSI file transfers 
that should be performed using 
.B globus-url-copy
with options 
.B -r
and
.B -cd,
e.g. "globus-url-copy -r -cd".
.SH OPTIONS
.TP
.B -help | -usage
Print help text.
.TP
.B -version
Print the version of this program.
.TP
.B -d | -debug | -v | -verbose
Print additional detail.
.TP
.B -c | -connection-caching-off
Disable GridFTP client connection caching, which is enabled by default.
.TP
.B -r | -recursive-dir-copy
Output directory names, when an entire directory is to be copied recursively.
This option may be used to improve performance, particularly when the 
destination is being populated for the first time.  This option should also
be used when an empty directory is to be copied, as the default configuration, 
which lists complete file pathnames, will not list a pathname of an empty directory.
.TP
.B -g | -globus-endpoints <source endpoint> <destination endpoint>
Format output using endpoints in place of the host portion of source and destination URLs.
.TP
.B -n | -newer
File is to be transferred, if the source timestamp is newer than the destination timestamp.
.TP
.B -o | -older
File is to be transferred, if the source timestamp is older than the destination timestamp.
.TP
.B -s | -size
File is to be transferred, if the sizes of the source and the destination are not the same.
.SH DESCRIPTION
The current implementation of 
.B globus-url-sync
supports very basic features for directory synchronization.  It includes comparators 
for existence checks, file size checks, modification timestamp checks, but not 
checksum comparison.
.sp
URL scheme(s) supported:
.sp
.B gsiftp
.nf
    For example:
      File name, absolute path: "gsiftp://myhost.edu//tmp/file1"
                                "gsiftp://myhost.edu/~/file1"
      File name, relative path: "gsiftp://myhost.edu/file1"
      Directory, absolute path: "gsiftp://myhost.edu//tmp/dir1/"
.fi
.sp
.B sshftp
.nf
    For example:
      File name, absolute path: "sshftp://myhost.edu//tmp/file1"
                                "sshftp://myhost.edu/~/file1"
      File name, relative path: "sshftp://myhost.edu/file1"
      Directory, absolute path: "sshftp://myhost.edu//tmp/dir1/"
.fi
.sp
Piping from 
.B globus-url-sync 
to 
.B globus_url_copy:
.nf
  globus-url-sync -r -s gsiftp://host.edu//tmp/dir1 \\
.br
        gsiftp://host.edu//tmp/dir2 | globus-url-copy -cd -r -f -
.fi
.SH BUGS
This is an early version of 
.B globus-url-sync.
In the event that unexpected results are returned, please re-run the command with the 
.B -verbose 
option.
.P 1
.B globus-url-sync
currently includes files that 
.B globus-url-copy
may not be able to read, as part of its output.  If output is piped to the globus.org 
"xfer" command, the transfer of these files may be retried without succeeding.
.P
.B Known limitations:
.P 1
.B globus-url-copy 
should be invoked with the 
.B -r 
and the
.B -cd 
options, so that directories can be copied recursively (for "globus-url-sync -r"),
and so that directories at the destination can be created.
.P 1
Until globus.org supports the recursive copying of directories, when
.B globus-url-sync 
output is being piped into a globus.org "xfer" command, the
.B globus-url-sync -g
and
.B -r
options should not be used at the same time.
.P 1
Authentication errors may be erroneously be reported as though a file is missing.
.P 1
Order of options does not currently effect order in which matching criteria are evaluated.
.P 1
Man-page for globus-url-sync is not automatically installed as part of the build process.
