AC_REVISION($Revision$)

# 
# Copyright 1999-2006 University of Chicago
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
# http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# 

AC_INIT(globus-script-lsf-queue.in)

# checking for the GLOBUS_LOCATION

if test "x$GLOBUS_LOCATION" = "x"; then
    echo "ERROR Please specify GLOBUS_LOCATION" >&2
    exit 1
fi

lsload=@LSLOAD@
lshosts=@LSHOSTS@
bjobs=@BJOBS@
bqueues=@BQUEUES@

AC_PATH_PROG(LSLOAD, lsload, no)
if test "$LSLOAD" = "no" ; then
    AC_MSG_ERROR("Cannot locate lsload")
fi

AC_PATH_PROG(LSHOSTS, lshosts, no)
if test "$LSHOSTS" = "no" ; then
    AC_MSG_ERROR("Cannot locate lshosts")
fi

AC_PATH_PROG(BJOBS, bjobs, no)
if test "$BJOBS" = "no" ; then
    AC_MSG_ERROR("Cannot locate bjobs")
fi

AC_PATH_PROG(BQUEUES, bqueues, no)
if test "$BQUEUES" = "no" ; then
    AC_MSG_ERROR("Cannot locate bqueues")
fi

AC_OUTPUT( $GLOBUS_LOCATION/libexec/globus-script-lsf-queue:globus-script-lsf-queue.in )
